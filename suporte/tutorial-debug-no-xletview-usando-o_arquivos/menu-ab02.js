/* (c) 2008, 2009 Add This, LLC */
if(!window._atab){var _atab={books:{"gmail":"Gmail","hotmail":"Hotmail","yahoo":"Yahoo!"},tdo:{ga:function(id){var r=[];if(id){var e=_atw.get(id),c=e.childNodes;if(c&&e.hasChildNodes()){for(var i=0;i<c.length;i++){var o=c.item(i);if(o.tagName.toLowerCase()=="a"&&o.style.display!="none"){r.push(o);}}}}return r;},sel:function(_7){var c=_atab.tdo.ga(_7);for(var i=0;i<c.length;i++){o=c[i];if(o.className.indexOf("hover")>-1){o.onclick();break;}}},inc:function(_a,_b){var c=_atab.tdo.ga(_a),i=1,p=0,n=0,o=0,s=0,h="hover",box=_atw.get(_a);if(c.length>1){for(i=0;i<c.length;i++){o=c[i];if(i<c.length-1){n=c[i+1];}else{n=c[0];}if(i>0){p=c[i-1];}else{p=c[c.length-1];}if(o.className.indexOf(h)>-1){if(_b>0&&n){n.className=h;o.className="";break;}else{if(-_b>0&&p){o.className="";p.className=h;break;}}}}if(_b<0&&p){n=p;}if(n==c[c.length-1]){box.scrollTop=Math.max(0,box.scrollHeight-(o.offsetHeight*4));}else{if(n==c[0]){box.scrollTop=0;}else{if(i<3){box.scrollTop=0;}else{if(i>c.length-3){box.scrollTop=Math.max(0,box.scrollHeight-(o.offsetHeight*4));}else{if(_b>0){if(o.offsetTop+o.offsetHeight*2>box.offsetHeight+box.scrollTop){box.scrollTop=o.offsetTop;}}else{if(o.offsetTop-o.offsetHeight<box.scrollTop){box.scrollTop=o.offsetTop-o.offsetHeight*3;}}}}}}}if(i==c.length){c[0].className="hover";box.scrollTop=0;}}},htkd:function(o,k){if(typeof(k)==_atu){k=window.event;}var w=_atw,ab=_atab,t="at16eatdr",iv=w.h.c.iv(t);if(iv){switch(k.keyCode){case 38:ab.tdo.inc(t,-1);w.cb(k);return false;case 40:ab.tdo.inc(t,1);w.cb(k);return false;case 13:ab.tdo.sel(t);w.cb(k);return false;}}return true;},filt:function(f,_1b,_1c,_1d,_1e,elt){var s=0,w=_atw,p=_1d||"ati_",n=_1e||"at16nms",elt=elt||"div",pn,ff=f!=""?f.replace(/\W+/g,"").replace(/ /g,"").toLowerCase():"";w.h.c.h(n);if(_1c){w.h.c.s(_1c);}for(var k in _1b){var o=w.get(p+k.replace("@","_")),c=w.h.c,kl=k.toLowerCase(),lkl=(_1b[k]).toLowerCase(),d=0;if((kl.indexOf(f)>-1||kl.indexOf(ff)>-1||lkl.indexOf(ff)>-1||lkl.indexOf(f)>-1)){d=1;s++;}if(!pn&&o){pn=o.parentNode;}if(d){c.s(o);}else{c.h(o);}}if(s&&pn){s=0;var _2c=pn.getElementsByTagName(elt);for(var k in _2c){if(_2c[k].style&&_2c[k].style.display=="block"){s++;}}}if(s===0){w.h.c.s(n);if(_1c){w.h.c.h(_1c);}}if(f.replace(/ /g,"")==""){if(_1c){w.h.c.h(_1c);}}},ipo:function(){var p=_atw.get("at16p");return p&&p.style.width=="502px";},opp:function(_2e){var w=_atw,ab=_atab,p=w.get("at16p"),pp=w.get("at16pp"),off=_2e;if(!addthis_do_ab){if(!ab.osta){var e=w.get("at_email"),d=function(s){if(w.hash.indexOf("#at"+s)===0){document.location.hash=w.hash="#";}};d("pro");d("opp");d("cle");d("clb");d("abc");e.url=_atr+"static/r07/ab"+(_ate.bro.mod!=2?"":"-quirks")+"06.html?&hc="+_euc(w.conf.ui_header_color)+"&hb="+_euc(w.conf.ui_header_background)+"&br="+_euc(w.conf.ui_cobrand)+"&al="+w.conf.ui_language+"&t="+_euc(w.get("at_to").value)+"&pt="+_euc(w.conf.ui_email_to||"")+"&pf="+_euc(w.conf.ui_email_from||"")+(w.share.email_template?"&et="+_euc(w.share.email_template):"")+"&f="+_euc(w.get("at_from").value)+"&n="+_euc(w.get("at_msg").value)+"&pn="+_euc((addthis_email_note||w.conf.ui_email_note||""))+(w.conf.data_track_linkback?"&ss=1":"")+"&url="+_euc(addthis_url)+"&tit="+_euc(addthis_title)+"&wpl="+_euc(document.location.href)+"&pub="+_euc(w.conf.username)+"&u="+_euc(_ate.uid);e.innerHTML="<div id=\"at16abifc\" class=\"atiemode"+_ate.bro.mod+"\">"+"<iframe id=\"at16abif\""+(_ate.bro.mod==0?" style=\"height:370px\"":"")+" name=\"at16abif\" src=\""+e.url+"\" "+"scrollbar=\"no\" frameborder=\"0\" scrolling=\"no\"></iframe></div>";if(window.postMessage){if(_ate.bro.msi){window.attachEvent("onmessage",ab.pmh);}else{window.addEventListener("message",ab.pmh,false);}}else{if(ab.ifpp){clearInterval(ab.ifpp);}ab.ifpp=setInterval(function(){ab.ifp();},100);}ab.osta=true;off=_2e=false;}if(_2e===undefined){var off=ab.ipo();w.get("at16abifc").style.width=off?"300px":"";}if(w.get("at16pit")){w.h.c.sw(p,off?300:502);w.get("at16pit").innerHTML="&"+(off?"r":"l")+"aquo;";}}else{off=(pp.style.display=="block");if(!ab.osta){w.ti=1000;var h=w.get("at15s"),hp=h.parentNode,un,pw,_3b=0;hp.removeChild(h);w.evar();p.style.background=0;var md=w.h.dv,msp=w.h.sp,mlb=w.h.lb,al=w.conf.ui_language,cs="</span>",ca="</a>",cd="</div>",min=function(i,e,v,z){return"<input id=\""+i+"\" name=\""+i+"\" class=\"atinp\" type=\""+(i.indexOf("pass")>-1?"password":"text")+"\" tabindex=\""+(_atw.ti++)+"\" "+(v?"value=\""+v+"\" ":"")+"size=\""+(z?z:30)+"\""+e+"/>";},cl="<div style=\"clear:both;\">"+cd,efr=function(i,l,v,z){return mlb(l,i)+min(i,"onfocus=\"_atw.rse(true);\"",v,z);};s=md("at_ab_error",0,null,"class=\"at_error\"")+w.lang(al,33)+cd+md("at16ppc")+md("at16pph")+w.lang(al,32)+":"+"<select id=\"at16pphs\" class=\"atinp\" tabindex=\""+(w.ti++)+"\" style=\"display:none\" onchange=\"_atab.swa(this.options[this.selectedIndex].value)\">";for(var k in ab.books){s+="<option value=\""+k+"\">"+ab.books[k]+"</option>";if(!_3b){_3b=_ate.rck("at-auth-"+k);}}s+="</select>"+cd+md("at16ppf",0)+"<div style=\"padding-bottom:6px;\">"+w.lang(al,27)+"."+cd;if(_3b){_3b=_3b.split("|");un=_3b[0];pw=_3b[1];}var lab=w.lang(al,19),pab=w.lang(al,29);lab=lab.charAt(0).toUpperCase()+lab.substr(1);pab=pab.charAt(0).toUpperCase()+pab.substr(1);s+=efr("at_ab_user",lab,un,20)+cl+efr("at_ab_pass",pab,pw,20)+md("at16abr")+"<input type=\"checkbox\" tabindex=\""+(w.ti++)+"\" id=\"at_remember\""+(_3b?" checked":"")+"> "+w.lang(al,30)+cd+"<p id=\"atsb\">"+"<input id=\"at16abs\" class=\"atbtn\" tabindex=\""+(w.ti++)+"\" type=\"submit\" value=\""+w.lang(al,31)+"\" onclick=\"return _atab.lda()\"/>"+"<input id=\"at16abc\" class=\"atbtn atrse\" tabindex=\""+(w.ti++)+"\" type=\"submit\" value=\""+w.lang(al,26)+"\" onclick=\"_atab.rsp();return false\"/>"+"</p>"+"<div id=\"at_signin_loading\" class=\"at_loading\" style=\"display:none;\"><img src=\""+_atr+"/images/redloading.gif\" width=\"16\" height=\"16\" alt=\"loading...\"/> "+w.lang(al,39)+"..."+cd+cd;s+=md("at16ppa",0,0,(_ate.bro.mod==2?"style=\"width:164px\"":""))+cd+"<a id=\"at16ppso\" href=\"#\" onclick=\"return _atab.daua(this);\">"+w.lang(al,38)+ca+md("at16ppb")+md("at16ep");for(var k in ab.books){s+="<a class=\"at_"+k+"\" href=\"#\" onclick=\"_atab.swa('"+k+"');\">"+ab.books[k]+ca;}s+=cd+cd+cd;pp.innerHTML=s;if(off){w.h.c.h(pp);}else{w.h.c.s(pp);}w.h.c.sw(p,off?300:502);w.osta=true;ab.plda();}if(off!==false){_ate.com("opp");}}return false;},rsp:function(){var w=_atw,hi=["at16ppa","at16ppso","at16pphs","at16ppf"];for(var k in hi){w.h.c.h(hi[k]);}w.h.c.s("at16ppb");w.rse(true);},abtd:function(){var w=_atw,off=!_atab.ipo(),sd=off?w.h.c.h:w.h.c.s;sd("at16ppc");sd("at16abc",1,1);sd("at16abr");sd("at16abs",1,1);sd("at_ab_user");sd("at_ab_pass");},daua:function(_57){var w=_atw,ab=_atab,c=w.data.contacts,s=_57.firstChild.nodeValue.split(" ").pop(),re=[],td=w.get("at16eatdr");for(var k in ab.books){if(ab.books[k]==s){if(_ate.rck("at-auth-sess-"+k)){_ate.kck("at-auth-sess-"+k);}if(td){var cl=td.getElementsByTagName("A"),re=[];for(var i=0;i<cl.length;i++){if(cl[i].className.indexOf(k)>-1){re.push(cl[i]);}}}w.data.contacts[k]=null;if(w.data.auth[s]){_atab.abdata(c[s]);}w.data.auth[k]=null;ab.rsp();break;}}for(var k in c.origin){if(c.origin[k]==s){delete c.origin[k];delete c.all[c.origin[k]];}}for(i=0;i<re.length;i++){td.removeChild(re[i]);}if(td&&td.getElementsByTagName("A").length==0){td.innerHTML="";td.style.border="";}},aua:function(b){var w=_atw,u=_atw.get("at_ab_user"),p=_atw.get("at_ab_pass"),s=w.get("at16pphs"),h=w.h.c.h;w.h.c.s(s);w.h.c.s("at16ppf");h("at16ppa");h("at16ppso");h("at16ppb");s.value=b;if(w.data.auth&&w.data.auth[b]){var a=w.data.auth[b];u.value=a.u;p.value=a.p;}else{var a=_ate.rck("at-auth-"+b);if(a){a=a.split("|");u.value=a[0];p.value=a[1];}else{u.value="";p.value="";}}},swa:function(b){var a=_atab,c=_atw.data.contacts;if(c&&c[b]){a.abdata(c[b]);}else{a.aua(b);}},plda:function(){for(var k in _atab.books){if(_ate.rck("at-auth-sess-"+k)){var _6c=_ate.rck("at-auth-"+k);if(_6c){_6c=_6c.split("|");var un=_6c[0],pw=_6c[1];_atab.lda(k,un,pw);}}}},lda:function(fbk,u,p){var w=_atw,c=w.data.contacts,s=w.get("at16pphs"),uf=w.get("at_ab_user"),pf=w.get("at_ab_pass"),pp=w.get("at16pp"),u=u||uf.value,p=p||pf.value,v=fbk||s.options[s.selectedIndex].value;w.rse();if(!fbk){if(u==""||p==""){var e=("at_ab_error"),al=w.conf.ui_language;if(u==""){w.err(null,uf,e);}if(p==""){w.err(null,pp,e);}return false;}if(w.get("at_remember").checked){_ate.sck("at-auth-"+v,u+"|"+p);_ate.sck("at-auth-sess-"+v,1,1);}else{_ate.kck("at-auth-"+v);_ate.kck("at-auth-sess"+v);}}if(c&&c[v]){_atab.abdata(c[v],!!fbk);}else{w.h.c.s("at_signin_loading");var d=document,o=d.ce("script");o.src="http://ws.addthis.com/share/2.1/addrs.json?suppress_response_codes=true&u="+_euc(u)+"&p="+_euc(p)+"&num=500&from="+_euc(v)+"&callback=_atab.abdata"+(fbk?"bk":"");d.gn("head")[0].appendChild(o);}},ato:function(o){var w=_atw,t=w.get("at_to"),a=o.firstChild.nodeValue,aa=a.split(" <"),ne=aa.length?aa[1]:a,es=t.value.replace(/[;\n]/g,",").split(","),le=leo=es.pop(),lbp;if(_ate.trim(le)==""){le=leo=es.pop();}if(a.indexOf("<")!==-1){a="\""+a.replace(/ </g,"\" <");}if(le){lbp=le.indexOf("<");if(lbp>-1){le=le.substr(lbp+1,le.length-lbp).replace(">","");}if(w.vem(le)){es.push(leo.charAt(0)==" "?leo.substr(1):leo);}}if(t.value.indexOf(ne)==-1){es.push(a);}w.h.c.h("at16eatdr");t.focus();t.value=es.join(", ")+", ";return false;},abdatabk:function(r){_atab.abdata(r,true);},abdata:function(r,f){var w=_atw,ab=_atab,ac=w.get("at16ppa"),so=w.get("at16ppso"),_8d=window.addthis_do_ab&&!f;w.h.c.h("at_signin_loading");if(r.error){if(_8d){w.err(null,w.get("at_ab_user"),"at_ab_error");w.err(null,w.get("at_ab_pass"),"at_ab_error");}}else{if(_8d){w.h.c.h("at16ppb");w.h.c.h("at16ppf");}var c=r.contacts,b=r.channel,f=1,as="",s="",td=w.get("at16eatdr"),u=w.get("at_ab_user"),p=w.get("at_ab_pass");if(_8d){if(!r.cache){_ate.cev("aba",b);}so.firstChild.nodeValue=w.lang(w.conf.ui_language,38)+" "+ab.books[b];w.h.c.s(so);w.h.c.s(ac);w.data.auth[b]={u:u.value,p:p.value};}c.sort(function(a,b){var a=((a.name||a.allPops[0].address||"")+"").toUpperCase(),b=((b.name||b.allPops[0].address||"")+"").toUpperCase();return((a==b)?0:((a>b)?1:-1));});for(var i=0;i<c.length;i++){if(c[i].allPops.length){var d=c[i].allPops[0],n=d.displayName,a=d.address;s+="<a href=\"#\" onclick=\"return _atab.ato(this);\">"+n+" &lt;"+a+"&gt;</a>";w.data.contacts.all[a]=n;w.data.contacts.origin[a]=b;}}w.data.contacts[b]=r;w.data.contacts[b].cache=true;var cns=[];for(var a in w.data.contacts.all){cns.push({id:a,name:w.data.contacts.all[a]});}cns.sort(function(a,b){return a.name>b.name?1:(a.name<b.name?-1:0);});for(i=0;i<cns.length;i++){var a=cns[i].id;as+="<a id=\"_ataddr"+(a.replace("@","_"))+"\" class=\"addthis_data_"+w.data.contacts.origin[a]+"\" href=\"#\" onclick=\"return _atab.ato(this);\">"+w.data.contacts.all[a]+" &lt;"+a+"&gt;</a>";}if(td){td.innerHTML=as;if(as!=""){td.style.border="1px solid #ccc";}}if(_8d){w.h.c.s("at16pphs");w.get("at16pphs").value=b;ac.innerHTML=s;}}},hash:window.location.hash,ifpp:null,ifp:function(_9e){var w=_atw,m=window.location.hash;if(m.length>3&&m!=w.hash){m=m.substr(3);if(m.indexOf("ssh")==0){return;}if(!w.hash.length||w.hash==""){w.hash="#";}if(_atab.ham(m)){window.location.hash=w.hash;}}},pmh:function(e){if(e.origin.substr(e.origin.length-12)==".addthis.com"){_atab.ham(e.data);}},ham:function(m){var w=_atw,p=0,ab=_atab;switch(m){case"clb":w.clb();p=1;break;case"opp":ab.opp();p=1;break;case"pro":ab.opp(true);p=1;w.cle();w.pro();break;case"cle":ab.opp();p=1;_ate.as("more");break;case"cef":p=1;w.cef();break;}return p;}};_atw.pla();}